<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>A Surprise for You ‚ù§Ô∏è</title>
    <style>
        @import url('https://fonts.googleapis.com/css2?family=Dancing+Script:wght@700&family=Poppins:wght@300;400;600&display=swap');

        :root {
            --primary: #e63946;
            --bg: linear-gradient(135deg, #ffe5ec 0%, #ffc2d1 100%);
            --gold: #d4af37;
        }

        body, html {
            margin: 0; padding: 0; width: 100%; height: 100%;
            font-family: 'Poppins', sans-serif;
            background: var(--bg);
            overflow: hidden;
            display: flex; align-items: center; justify-content: center;
        }

        .container {
            width: 90%; max-width: 400px; text-align: center;
            background: rgba(255, 255, 255, 0.8);
            padding: 30px; border-radius: 20px;
            box-shadow: 0 10px 30px rgba(0,0,0,0.1);
            position: relative; transition: all 0.5s ease;
        }

        .hidden { display: none !important; }

        /* Step 1 & 2 Styles */
        h1 { font-size: 1.5rem; color: #444; }
        .script-font { font-family: 'Dancing Script', cursive; font-size: 2.5rem; color: var(--gold); }
        
        button {
            padding: 12px 25px; border: none; border-radius: 50px;
            cursor: pointer; font-weight: 600; transition: transform 0.2s;
            margin: 10px;
        }

        .btn-yes { background: var(--primary); color: white; }
        .btn-no { background: #ccc; color: #555; }

        /* Shake Animation */
        .shake { animation: shake 0.3s; }
        @keyframes shake {
            0%, 100% { transform: translateX(0); }
            25% { transform: translateX(-10px); }
            75% { transform: translateX(10px); }
        }

        /* Photo Styles */
        .profile-img { width: 150px; height: 150px; border-radius: 50%; object-fit: cover; border: 4px solid var(--gold); margin-bottom: 20px; }
        
        /* Quiz Styles */
        .quiz-input { width: 100%; padding: 10px; margin-top: 10px; border: 1px solid #ddd; border-radius: 5px; }

        /* Fleeing Button */
        #flee-no { position: absolute; }

        /* Gift Box */
        .gift-box { font-size: 80px; cursor: pointer; display: block; margin: 20px auto; animation: pulse 1.5s infinite; }
        @keyframes pulse { 0%, 100% { transform: scale(1); } 50% { transform: scale(1.1); } }

        /* Flash Effect */
        #flash {
            position: fixed; top: 0; left: 0; width: 100%; height: 100%;
            background: white; opacity: 0; pointer-events: none; z-index: 1000;
        }

        /* Gallery Scroll */
        #scroll-container { 
            height: 100vh; overflow-y: auto; width: 100%; display: flex; flex-direction: column; align-items: center; 
            padding-top: 50px; background: #fff5f7;
        }
        .gallery-img { width: 85%; max-width: 300px; border-radius: 15px; margin-bottom: 25px; box-shadow: 0 5px 15px rgba(0,0,0,0.1); }
        .final-msg { font-family: 'Dancing Script', cursive; font-size: 3rem; color: var(--primary); padding: 50px 0; }
    </style>
</head>
<body>

    <div id="flash"></div>

    <div id="step1" class="container">
        <h1>I made a surprise for you, can you see it?</h1>
        <button class="btn-yes" onclick="nextStep(2)">Yes</button>
        <button class="btn-no" onclick="howDareYou(this)">No</button>
        <p id="dare-msg" style="color:red; font-weight:bold; display:none;">HOW DARE YOU!</p>
    </div>

    <div id="step2" class="container hidden">
        <h1 id="he-he">He he he... click for surprise</h1>
        <button id="next-btn" class="btn-yes" onclick="showHandsome()">Next</button>
        
        <div id="handsome-content" class="hidden">
            <img src="intro.jpg" class="profile-img" alt="You">
            <h1 class="script-font">Hey Handsome!</h1>
            <p id="typewriter"></p>
            <button class="btn-yes" id="start-quiz-btn" onclick="nextStep(3)" style="display:none;">Get Started</button>
        </div>
    </div>

    <div id="step3" class="container hidden">
        <h2 id="q-text">When was the proposal date?</h2>
        <div id="options">
            </div>
        <p id="error-msg" style="color:red; font-size: 0.8rem;"></p>
    </div>

    <div id="step4" class="container hidden">
        <h1 class="script-font">Will you be my valentine?</h1>
        <button class="btn-yes" onclick="valCorrect()">Yes</button>
        <button class="btn-no" id="flee-no" onmouseover="flee()">No</button>
    </div>

    <div id="step5" class="container hidden" style="overflow-y: auto; max-height: 80vh;">
        <p id="final-typewriter" style="font-weight: 600;"></p>
        <div id="gift-area" class="hidden">
            <div class="gift-box" onclick="cameraFlash()">üéÅ</div>
            <p>Tap the gift box</p>
        </div>
    </div>

    <div id="scroll-container" class="hidden">
        <h2 class="script-font">Memories üì∏</h2>
        <img src="gallery1.jpg" class="gallery-img">
        <img src="gallery2.jpg" class="gallery-img">
        <img src="gallery3.jpg" class="gallery-img">
        <img src="final.jpg" class="gallery-img">
        <div class="final-msg">I LOVE YOU</div>
    </div>

    <script>
        function nextStep(step) {
            document.querySelectorAll('.container').forEach(c => c.classList.add('hidden'));
            document.getElementById('step' + step).classList.remove('hidden');
        }

        function howDareYou(btn) {
            document.getElementById('step1').classList.add('shake');
            document.getElementById('dare-msg').style.display = 'block';
            setTimeout(() => {
                document.getElementById('step1').classList.remove('shake');
                document.getElementById('dare-msg').style.display = 'none';
            }, 1500);
        }

        function showHandsome() {
            document.getElementById('he-he').classList.add('hidden');
            document.getElementById('next-btn').classList.add('hidden');
            document.getElementById('handsome-content').classList.remove('hidden');
            typeWriter("Hey Handsome!", "Let's play a little game. If you get these right, there's a surprise waiting.", "typewriter", () => {
                document.getElementById('start-quiz-btn').style.display = 'inline-block';
            });
        }

        function typeWriter(title, text, elementId, callback) {
            let i = 0;
            function type() {
                if (i < text.length) {
                    document.getElementById(elementId).innerHTML += text.charAt(i);
                    i++;
                    setTimeout(type, 30);
                } else if (callback) callback();
            }
            type();
        }

        // Quiz Logic
        let currentQ = 0;
        const questions = [
            { q: "The proposal date?", ops: ["Oct 9", "Sept 9", "Oct 10"], ans: "Oct 9" },
            { q: "Our first date?", ops: ["Movies", "Night street walking", "Dinner"], ans: "Night street walking" },
            { q: "What's special in 207?", input: true, ans: ["room", "park avenue"] },
            { q: "Destination on our bucket list?", ops: ["Ooty", "Kerala", "Goa"], ans: "Ooty" }
        ];

        function loadQuiz() {
            const q = questions[currentQ];
            document.getElementById('q-text').innerText = q.q;
            const optDiv = document.getElementById('options');
            optDiv.innerHTML = '';
            document.getElementById('error-msg').innerText = '';

            if(q.input) {
                const input = document.createElement('input');
                input.className = 'quiz-input';
                input.id = 'quiz-in';
                const btn = document.createElement('button');
                btn.innerText = "Submit"; btn.className = 'btn-yes';
                btn.onclick = () => checkAns(document.getElementById('quiz-in').value);
                optDiv.appendChild(input); optDiv.appendChild(btn);
            } else {
                q.ops.forEach(o => {
                    const b = document.createElement('button');
                    b.innerText = o; b.className = 'btn-no';
                    b.onclick = () => checkAns(o);
                    optDiv.appendChild(b);
                });
            }
        }

        function checkAns(val) {
            const q = questions[currentQ];
            let isRight = false;
            if(q.input) isRight = q.ans.includes(val.toLowerCase());
            else isRight = (val === q.ans);

            if(isRight) {
                currentQ++;
                if(currentQ < questions.length) loadQuiz();
                else nextStep(4);
            } else {
                document.getElementById('error-msg').innerText = (val === "Oct 10") ? "Close! But no." : "Wrong answer! Try again.";
            }
        }
        loadQuiz();

        // Flee Button
        function flee() {
            const btn = document.getElementById('flee-no');
            const x = Math.random() * (window.innerWidth - 100);
            const y = Math.random() * (window.innerHeight - 50);
            btn.style.left = x + 'px';
            btn.style.top = y + 'px';
        }

        function valCorrect() {
            alert("The only correct answer! I knew you'd make the right choice. üòâ");
            nextStep(5);
            typeWriter("", "I‚Äôm glad we‚Äôre on the same page. Thanks for being my person and for dealing with my mood swings. Looking forward to Ooty, 207, and everything else we have planned. Happy Valentine's Day, favorite. üåπü´Çüë©‚Äç‚ù§Ô∏è‚Äçüíã‚Äçüë®", "final-typewriter", () => {
                document.getElementById('gift-area').classList.remove('hidden');
            });
        }

        function cameraFlash() {
            const f = document.getElementById('flash');
            f.style.opacity = '1';
            setTimeout(() => {
                f.style.opacity = '0';
                document.getElementById('step5').classList.add('hidden');
                document.getElementById('scroll-container').classList.remove('hidden');
                document.body.style.overflow = 'auto';
            }, 200);
        }
    </script>
</body>
</html>

