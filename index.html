<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>A Surprise for You!</title>
    <style>
        :root {
            --bg-color: #ffafbd;
            --text-color: #ffffff;
        }

        body {
            margin: 0;
            padding: 0;
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            background: var(--bg-color);
            transition: background 0.5s ease;
            display: flex;
            justify-content: center;
            align-items: center;
            height: 100vh;
            overflow: hidden;
            text-align: center;
        }

        .container {
            background: rgba(255, 255, 255, 0.2);
            padding: 30px;
            border-radius: 20px;
            backdrop-filter: blur(10px);
            box-shadow: 0 8px 32px rgba(0,0,0,0.1);
            max-width: 90%;
            width: 400px;
        }

        h1 { font-size: 24px; margin-bottom: 20px; color: white; text-shadow: 2px 2px 4px rgba(0,0,0,0.1); }
        
        .cat-img { width: 200px; height: 200px; object-fit: contain; margin-bottom: 20px; border-radius: 15px; }

        .btn {
            background: white;
            color: #ff4b2b;
            border: none;
            padding: 12px 25px;
            font-size: 18px;
            font-weight: bold;
            border-radius: 25px;
            cursor: pointer;
            margin: 10px;
            transition: transform 0.2s;
        }

        .btn:hover { transform: scale(1.1); }

        /* Shake Animation */
        @keyframes shake {
            0% { transform: translate(1px, 1px) rotate(0deg); }
            10% { transform: translate(-1px, -2px) rotate(-1deg); }
            20% { transform: translate(-3px, 0px) rotate(1deg); }
            30% { transform: translate(3px, 2px) rotate(0deg); }
            40% { transform: translate(1px, -1px) rotate(1deg); }
            50% { transform: translate(-1px, 2px) rotate(-1deg); }
            60% { transform: translate(-3px, 1px) rotate(0deg); }
            70% { transform: translate(3px, 1px) rotate(-1deg); }
            80% { transform: translate(-1px, -1px) rotate(1deg); }
            90% { transform: translate(1px, 2px) rotate(0deg); }
            100% { transform: translate(1px, -2px) rotate(-1deg); }
        }

        .shake { animation: shake 0.5s; animation-iteration-count: infinite; }

        /* Running No Button */
        #no-btn-final { position: absolute; transition: 0.2s; }

        /* Photo Slider */
        #photo-gallery { display: none; }
        .slideshow-container { width: 100%; height: 250px; position: relative; }
        .slide { width: 100%; height: 100%; object-fit: cover; border-radius: 10px; display: none; }

        /* Maxwell Spin */
        .maxwell { width: 150px; animation: spin 2s linear infinite; display: none; margin: 20px auto; }
        @keyframes spin { 100% { transform: rotate(360deg); } }

        .hidden { display: none; }
    </style>
</head>
<body>

    <div class="container" id="main-card">
        <div id="intro-screen">
            <img id="intro-cat" src="https://media.giphy.com/media/v1.Y2lkPTc5MGI3NjExOHYybmN6cXN6bmF5bHdqZ3p3eHh6cXN6bmF5bHdqZ3p3eHh6cXN6JmVwPXYxX2ludGVybmFsX2dpZl9ieV9pZNo/lJNoBCvQYp7nq/giphy.gif" class="cat-img">
            <h1 id="intro-text">I made a surprise for you, can you see it?</h1>
            <button class="btn" onclick="goToHeHe()">Yes</button>
            <button class="btn" id="intro-no" onclick="triggerAngry()">No</button>
        </div>

        <div id="hehe-screen" class="hidden">
            <h1>He he he...</h1>
            <p style="color: white;">Click below for the surprise</p>
            <button class="btn" onclick="goToHandsome()">Next</button>
        </div>

        <div id="handsome-screen" class="hidden">
            <img src="https://media.giphy.com/media/v1.Y2lkPTc5MGI3NjExcm5qbmJ3bXp3eHh6cXN6bmF5bHdqZ3p3eHh6cXN6bmF5bHdqZyZlcD12MV9pbnRlcm5hbF9naWZfYnlfaWQmY3Q9Zw/3oz8xAFtqoNEAf6xW0/giphy.gif" class="cat-img">
            <h1>Hey Handsome!</h1>
            <button class="btn" onclick="startQuiz()">Get Started</button>
        </div>

        <div id="quiz-screen" class="hidden">
            <h1 id="question-text">Question</h1>
            <div id="quiz-cat-container"></div>
            <div id="options-container"></div>
        </div>

        <div id="proposal-screen" class="hidden">
            <img src="https://media.giphy.com/media/v1.Y2lkPTc5MGI3NjExenI1bmN6cXN6bmF5bHdqZ3p3eHh6cXN6bmF5bHdqZ3p3eHh6cXN6JmVwPXYxX2ludGVybmFsX2dpZl9ieV9pZCZjdD1n/MDJ9IbxxvDUQM/giphy.gif" class="cat-img">
            <h1>Will you be my Valentine?</h1>
            <button class="btn" onclick="revealGift()">Yes</button>
            <button class="btn" id="no-btn-final" onmouseover="moveNo()">No</button>
        </div>

        <div id="gift-screen" class="hidden">
            <h1 id="typewriter-msg"></h1>
            <div id="gift-box" style="font-size: 80px; cursor: pointer;" onclick="showSmileMsg()">üéÅ</div>
            <p id="smile-msg" class="hidden">Smileee! Click on the camera to reveal photo!!</p>
            <div id="camera-btn" class="hidden" style="font-size: 50px; cursor: pointer;" onclick="runPhotos()">üì∑</div>
            
            <div id="photo-gallery">
                <div class="slideshow-container">
                    <img src="photo1.jpg" class="slide">
                    <img src="photo2.jpg" class="slide">
                    <img src="photo3.jpg" class="slide">
                </div>
                <h2 id="love-text" class="hidden" style="color: white; margin-top: 10px;">I LOVE YOU</h2>
                <div id="rank-display" style="color: white; font-weight: bold; margin-top: 10px;"></div>
                <img src="https://media.giphy.com/media/v1.Y2lkPTc5MGI3NjExY3RndjRwamN6cXN6bmF5bHdqZ3p3eHh6cXN6bmF5bHdqZ3p3eHh6cXN6JmVwPXYxX2ludGVybmFsX2dpZl9ieV9pZCZjdD1n/GeimqsH0TLDt4tScGw/giphy.gif" class="maxwell" id="maxwell">
            </div>
        </div>
    </div>

    <script>
        let score = 0;
        let currentQ = 0;

        const questions = [
            { q: "Where I first proposed?", a: ["Park", "Beach", "Home", "Text"], correct: 0, bg: "#ff9a9e" },
            { q: "Where was our first date?", a: ["Cafe", "Movie", "Park Avenue", "Restaurant"], correct: 2, bg: "#a18cd1" },
            { q: "What's special about 207?", a: ["Address", "Anniversary", "Lucky Number", "Just a number"], correct: 0, bg: "#fbc2eb" },
            { q: "What do we love in Ooty?", a: ["Tea", "Coffee", "Chocolate", "Scenery"], correct: 1, bg: "#84fab0" }
        ];

        function triggerAngry() {
            document.body.classList.add('shake');
            document.getElementById('intro-cat').src = "https://media.giphy.com/media/v1.Y2lkPTc5MGI3NjExNHYybmN6cXN6bmF5bHdqZ3p3eHh6cXN6bmF5bHdqZ3p3eHh6cXN6JmVwPXYxX2ludGVybmFsX2dpZl9ieV9pZCZjdD1n/mlvseq9nOeYhqcISIl/giphy.gif";
            document.getElementById('intro-text').innerText = "HOW DARE YOU?! üò§ Try again.";
            document.getElementById('intro-no').style.display = 'none';
        }

        function goToHeHe() {
            document.body.classList.remove('shake');
            document.getElementById('intro-screen').classList.add('hidden');
            document.getElementById('hehe-screen').classList.remove('hidden');
        }

        function goToHandsome() {
            document.getElementById('hehe-screen').classList.add('hidden');
            document.getElementById('handsome-screen').classList.remove('hidden');
        }

        function startQuiz() {
            document.getElementById('handsome-screen').classList.add('hidden');
            document.getElementById('quiz-screen').classList.remove('hidden');
            showQuestion();
        }

        function showQuestion() {
            let q = questions[currentQ];
            document.body.style.background = q.bg;
            document.getElementById('question-text').innerText = q.q;
            let options = document.getElementById('options-container');
            options.innerHTML = '';
            q.a.forEach((opt, i) => {
                let btn = document.createElement('button');
                btn.className = 'btn';
                btn.innerText = opt;
                btn.onclick = () => checkAnswer(i);
                options.appendChild(btn);
            });
        }

        function checkAnswer(i) {
            if(i === questions[currentQ].correct) {
                score++;
                alert("Happy Happy Happy! üê±‚ú®");
            } else {
                alert("Huh? üê±‚ùì");
            }
            currentQ++;
            if(currentQ < questions.length) { showQuestion(); }
            else { showProposal(); }
        }

        function showProposal() {
            document.getElementById('quiz-screen').classList.add('hidden');
            document.getElementById('proposal-screen').classList.remove('hidden');
            document.body.style.background = "#ff4b2b";
        }

        function moveNo() {
            let btn = document.getElementById('no-btn-final');
            btn.style.left = Math.random() * (window.innerWidth - 100) + 'px';
            btn.style.top = Math.random() * (window.innerHeight - 50) + 'px';
        }

        function revealGift() {
            document.getElementById('proposal-screen').classList.add('hidden');
            document.getElementById('gift-screen').classList.remove('hidden');
            let text = "You've made me the luckiest person! I have a small surprise... open it!";
            let i = 0;
            function type() {
                if(i < text.length) {
                    document.getElementById('typewriter-msg').innerHTML += text.charAt(i);
                    i++; setTimeout(type, 50);
                }
            }
            type();
        }

        function showSmileMsg() {
            document.getElementById('gift-box').classList.add('hidden');
            document.getElementById('smile-msg').classList.remove('hidden');
            document.getElementById('camera-btn').classList.remove('hidden');
        }

        function runPhotos() {
            document.getElementById('camera-btn').classList.add('hidden');
            document.getElementById('photo-gallery').style.display = 'block';
            let slides = document.getElementsByClassName('slide');
            let index = 0;
            let interval = setInterval(() => {
                for(let s of slides) s.style.display = 'none';
                if(index < slides.length) {
                    slides[index].style.display = 'block';
                    index++;
                } else {
                    clearInterval(interval);
                    document.getElementById('love-text').classList.remove('hidden');
                    showRank();
                }
            }, 2000);
        }

        function showRank() {
            let rank = "";
            if(score === 4) rank = "RANK: THE ULTIMATE SOULMATE üèÜ";
            else if(score >= 2) rank = "RANK: COFFEE DATE PRO ‚òï";
            else rank = "RANK: LUCKY I LOVE YOU üòÇ";
            document.getElementById('rank-display').innerText = rank;
            document.getElementById('maxwell').style.display = 'block';
            confetti();
        }

        function confetti() {
            // Simple emoji explosion
            for(let i=0; i<20; i++) {
                let e = document.createElement('div');
                e.innerText = ['üåπ','ü´Ç','üë©‚Äç‚ù§Ô∏è‚Äçüíã‚Äçüë®'][Math.floor(Math.random()*3)];
                e.style.position = 'absolute';
                e.style.left = Math.random()*100 + 'vw';
                e.style.top = '100vh';
                e.style.fontSize = '30px';
                e.style.transition = '2s';
                document.body.appendChild(e);
                setTimeout(() => { e.style.top = '-10vh'; e.style.transform = 'rotate(360deg)'; }, 100);
            }
        }
    </script>
</body>
</html>

